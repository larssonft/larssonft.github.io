<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Fredrik Larsson" />

<meta name="date" content="2020-06-17" />

<title>Equifax - Event Study</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="site_libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="site_libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="site_libs/dygraphs-1.1.1/shapes.js"></script>
<script src="site_libs/moment-2.8.4/moment.js"></script>
<script src="site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="site_libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="CV/CV.pdf">CV</a>
</li>
<li>
  <a href="fama_french.html">Fama French</a>
</li>
<li>
  <a href="event_study.html">Event Study</a>
</li>
<li>
  <a href="portfolio_optimization.html">Portfolio Optimization</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Equifax - Event Study</h1>
<h4 class="author"><em>Fredrik Larsson</em></h4>
<h4 class="date"><em>June 17, 2020</em></h4>

</div>


<div id="abstract" class="section level3">
<h3>Abstract</h3>
<p>Conduct an event study to study whether the data breach of Equifax 2017 involved insider trading, abnormal market behavior (deviating from Efficient Market Hypothesis), and structural changes in the stock price.</p>
</div>
<div id="packages" class="section level3">
<h3>Packages</h3>
<ol style="list-style-type: decimal">
<li>quantmod</li>
<li>dygraphs</li>
<li>forecast</li>
<li>vars</li>
<li>tseries</li>
</ol>
</div>
<div id="import-and-fix-data" class="section level3">
<h3>Import and Fix Data</h3>
<p>After the announcement of the data breach, multiple noticeable events occurred as a direct result (arguably both positive and negative in respect to stock return). For example, the retirement of the CEO could be viewed as positive event, as it showcased that the board of Equifax had zero tolereance toward insider trading &amp; corporate negligence.</p>
<p>Therefore, I will seperate events into two groups: positive news and negative news.</p>
<p><span class="math display">\[Formula\]</span> <span class="math display">\[R_t = \ln \frac {P_t}{P_{t-1}} = \ln P_t - \ln P_{t-1}\]</span></p>
<pre class="r"><code>#Stock Data
start.date &lt;- &quot;2016-12-01&quot;
end.date &lt;- &quot;2018-06-01&quot;
periodicity &lt;- &quot;daily&quot;

stock.list &lt;- c(&quot;EFX&quot;)

firm_stocks &lt;- getSymbols.yahoo(Symbols = stock.list,
                                env = .GlobalEnv,
                                return.class = &quot;xts&quot;,
                                index.class = &quot;Date&quot;,
                                from = start.date,
                                to = end.date,
                                periodicity = periodicity)


#News variables - dates &amp; explanation
announcement.dates &lt;- c(&quot;2017-09-07&quot;,
                        &quot;2017-09-11&quot;,#Announcement made a non-trading day. 
                        &quot;2017-09-15&quot;,
                        &quot;2017-09-26&quot;,
                        &quot;2017-10-02&quot;)

announcement.explain &lt;- c(&quot;Announces breach&quot;,
                          &quot;Tweets phishing site&quot;,
                          &quot;CSO &amp; CIO retire&quot;,
                          &quot;CEO retires&quot;,
                          &quot;Announces more affected&quot;)

#Dummy variables - if news occured after market closure, I moved it forward to the next trading day.
negative.D &lt;- c(&quot;2017-09-08&quot;,#Happened 2017-09-07
                &quot;2017-09-11&quot;,#Happened 2017-09-10
                &quot;2017-10-02&quot;)

positive.D &lt;- c(&quot;2017-09-18&quot;,#Announcement made after trading hours on 2017-09-15
                &quot;2017-09-26&quot;)

#Create consolidated data frame with stock returns (Stock price being non-stationry (mean and variance))
df &lt;- cbind.xts(diff(log(EFX$EFX.Adjusted)),
                as.integer(as.character(index(EFX)) %in% as.character(negative.D)),
                as.integer(as.character(index(EFX)) %in% as.character(positive.D)))

names(df) &lt;- c(&quot;Return&quot;, &quot;Negative.D&quot;, &quot;Positive.D&quot;)
head(df); subset(df, df$Negative.D == 1);subset(df, df$Positive.D == 1)#Print sample rows. </code></pre>
<pre><code>##                  Return Negative.D Positive.D
## 2016-12-01           NA          0          0
## 2016-12-02  0.022078427          0          0
## 2016-12-05  0.002627513          0          0
## 2016-12-06 -0.007286355          0          0
## 2016-12-07  0.021700998          0          0
## 2016-12-08  0.013785152          0          0</code></pre>
<pre><code>##                 Return Negative.D Positive.D
## 2017-09-08 -0.14683205          1          0
## 2017-09-11 -0.08560324          1          0
## 2017-10-02  0.01702569          1          0</code></pre>
<pre><code>##                 Return Negative.D Positive.D
## 2017-09-18 0.014944667          0          1
## 2017-09-26 0.009093628          0          1</code></pre>
<div id="graph-stock-price-stock-volume-and-event-dates" class="section level4">
<h4>Graph Stock Price, Stock Volume, and Event Dates</h4>
<p>To get a better understanding of stock behavor during this series of events.</p>
<pre class="r"><code>dygraph(EFX[,5:6], xlab = &quot;Date&quot;, ylab = &quot;Stock Price&quot;, main = &quot;Equifax Stock Price&quot;) %&gt;%
  dyRangeSelector(dateWindow = c(&quot;2017-08-15&quot;, &quot;2017-10-31&quot;)) %&gt;%
  dyAxis(&quot;y&quot;, label = &quot;Price&quot;, independentTicks = TRUE) %&gt;%
  dyAxis(&quot;y2&quot;, label = &quot;Volume&quot;, independentTicks = TRUE, valueRange = c(0, (10**8))) %&gt;%
  dySeries(&quot;EFX.Volume&quot;, axis = (&quot;y2&quot;)) %&gt;%
  dyRoller(rollPeriod = 1) %&gt;%
  dyEvent(announcement.dates, label = announcement.explain, col = &quot;orange&quot;, labelLoc = &quot;top&quot;) %&gt;%
  dyOptions(drawGrid = FALSE)%&gt;%
  dyLegend(width = 400)</code></pre>
<div id="htmlwidget-e30318bb50d24d84fa4d" style="width:672px;height:480px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-e30318bb50d24d84fa4d">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"independentTicks":true,"drawAxis":true},"y2":{"valueRange":[0,100000000],"independentTicks":true}},"title":"Equifax Stock Price","xlabel":"Date","ylabel":"Price","labels":["day","EFX.Adjusted","EFX.Volume"],"retainDateWindow":false,"showRangeSelector":true,"dateWindow":["2017-08-15T00:00:00.000Z","2017-10-31T00:00:00.000Z"],"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel","y2label":"Volume","series":{"EFX.Volume":{"axis":"y2"}},"showRoller":true,"rollPeriod":1,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":false,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"auto","labelsDivWidth":400,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true},"scale":"daily","annotations":[],"shadings":[],"events":[{"pos":"2017-09-07T00:00:00.000Z","label":"Announces breach","labelLoc":"top","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-11T00:00:00.000Z","label":"Tweets phishing site","labelLoc":"top","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-15T00:00:00.000Z","label":"CSO & CIO retire","labelLoc":"top","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-26T00:00:00.000Z","label":"CEO retires","labelLoc":"top","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-10-02T00:00:00.000Z","label":"Announces more affected","labelLoc":"top","color":"orange","strokePattern":[7,3],"axis":"x"}],"format":"date","data":[["2016-12-01T00:00:00.000Z","2016-12-02T00:00:00.000Z","2016-12-05T00:00:00.000Z","2016-12-06T00:00:00.000Z","2016-12-07T00:00:00.000Z","2016-12-08T00:00:00.000Z","2016-12-09T00:00:00.000Z","2016-12-12T00:00:00.000Z","2016-12-13T00:00:00.000Z","2016-12-14T00:00:00.000Z","2016-12-15T00:00:00.000Z","2016-12-16T00:00:00.000Z","2016-12-19T00:00:00.000Z","2016-12-20T00:00:00.000Z","2016-12-21T00:00:00.000Z","2016-12-22T00:00:00.000Z","2016-12-23T00:00:00.000Z","2016-12-27T00:00:00.000Z","2016-12-28T00:00:00.000Z","2016-12-29T00:00:00.000Z","2016-12-30T00:00:00.000Z","2017-01-03T00:00:00.000Z","2017-01-04T00:00:00.000Z","2017-01-05T00:00:00.000Z","2017-01-06T00:00:00.000Z","2017-01-09T00:00:00.000Z","2017-01-10T00:00:00.000Z","2017-01-11T00:00:00.000Z","2017-01-12T00:00:00.000Z","2017-01-13T00:00:00.000Z","2017-01-17T00:00:00.000Z","2017-01-18T00:00:00.000Z","2017-01-19T00:00:00.000Z","2017-01-20T00:00:00.000Z","2017-01-23T00:00:00.000Z","2017-01-24T00:00:00.000Z","2017-01-25T00:00:00.000Z","2017-01-26T00:00:00.000Z","2017-01-27T00:00:00.000Z","2017-01-30T00:00:00.000Z","2017-01-31T00:00:00.000Z","2017-02-01T00:00:00.000Z","2017-02-02T00:00:00.000Z","2017-02-03T00:00:00.000Z","2017-02-06T00:00:00.000Z","2017-02-07T00:00:00.000Z","2017-02-08T00:00:00.000Z","2017-02-09T00:00:00.000Z","2017-02-10T00:00:00.000Z","2017-02-13T00:00:00.000Z","2017-02-14T00:00:00.000Z","2017-02-15T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-02-17T00:00:00.000Z","2017-02-21T00:00:00.000Z","2017-02-22T00:00:00.000Z","2017-02-23T00:00:00.000Z","2017-02-24T00:00:00.000Z","2017-02-27T00:00:00.000Z","2017-02-28T00:00:00.000Z","2017-03-01T00:00:00.000Z","2017-03-02T00:00:00.000Z","2017-03-03T00:00:00.000Z","2017-03-06T00:00:00.000Z","2017-03-07T00:00:00.000Z","2017-03-08T00:00:00.000Z","2017-03-09T00:00:00.000Z","2017-03-10T00:00:00.000Z","2017-03-13T00:00:00.000Z","2017-03-14T00:00:00.000Z","2017-03-15T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-03-17T00:00:00.000Z","2017-03-20T00:00:00.000Z","2017-03-21T00:00:00.000Z","2017-03-22T00:00:00.000Z","2017-03-23T00:00:00.000Z","2017-03-24T00:00:00.000Z","2017-03-27T00:00:00.000Z","2017-03-28T00:00:00.000Z","2017-03-29T00:00:00.000Z","2017-03-30T00:00:00.000Z","2017-03-31T00:00:00.000Z","2017-04-03T00:00:00.000Z","2017-04-04T00:00:00.000Z","2017-04-05T00:00:00.000Z","2017-04-06T00:00:00.000Z","2017-04-07T00:00:00.000Z","2017-04-10T00:00:00.000Z","2017-04-11T00:00:00.000Z","2017-04-12T00:00:00.000Z","2017-04-13T00:00:00.000Z","2017-04-17T00:00:00.000Z","2017-04-18T00:00:00.000Z","2017-04-19T00:00:00.000Z","2017-04-20T00:00:00.000Z","2017-04-21T00:00:00.000Z","2017-04-24T00:00:00.000Z","2017-04-25T00:00:00.000Z","2017-04-26T00:00:00.000Z","2017-04-27T00:00:00.000Z","2017-04-28T00:00:00.000Z","2017-05-01T00:00:00.000Z","2017-05-02T00:00:00.000Z","2017-05-03T00:00:00.000Z","2017-05-04T00:00:00.000Z","2017-05-05T00:00:00.000Z","2017-05-08T00:00:00.000Z","2017-05-09T00:00:00.000Z","2017-05-10T00:00:00.000Z","2017-05-11T00:00:00.000Z","2017-05-12T00:00:00.000Z","2017-05-15T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-05-17T00:00:00.000Z","2017-05-18T00:00:00.000Z","2017-05-19T00:00:00.000Z","2017-05-22T00:00:00.000Z","2017-05-23T00:00:00.000Z","2017-05-24T00:00:00.000Z","2017-05-25T00:00:00.000Z","2017-05-26T00:00:00.000Z","2017-05-30T00:00:00.000Z","2017-05-31T00:00:00.000Z","2017-06-01T00:00:00.000Z","2017-06-02T00:00:00.000Z","2017-06-05T00:00:00.000Z","2017-06-06T00:00:00.000Z","2017-06-07T00:00:00.000Z","2017-06-08T00:00:00.000Z","2017-06-09T00:00:00.000Z","2017-06-12T00:00:00.000Z","2017-06-13T00:00:00.000Z","2017-06-14T00:00:00.000Z","2017-06-15T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-06-19T00:00:00.000Z","2017-06-20T00:00:00.000Z","2017-06-21T00:00:00.000Z","2017-06-22T00:00:00.000Z","2017-06-23T00:00:00.000Z","2017-06-26T00:00:00.000Z","2017-06-27T00:00:00.000Z","2017-06-28T00:00:00.000Z","2017-06-29T00:00:00.000Z","2017-06-30T00:00:00.000Z","2017-07-03T00:00:00.000Z","2017-07-05T00:00:00.000Z","2017-07-06T00:00:00.000Z","2017-07-07T00:00:00.000Z","2017-07-10T00:00:00.000Z","2017-07-11T00:00:00.000Z","2017-07-12T00:00:00.000Z","2017-07-13T00:00:00.000Z","2017-07-14T00:00:00.000Z","2017-07-17T00:00:00.000Z","2017-07-18T00:00:00.000Z","2017-07-19T00:00:00.000Z","2017-07-20T00:00:00.000Z","2017-07-21T00:00:00.000Z","2017-07-24T00:00:00.000Z","2017-07-25T00:00:00.000Z","2017-07-26T00:00:00.000Z","2017-07-27T00:00:00.000Z","2017-07-28T00:00:00.000Z","2017-07-31T00:00:00.000Z","2017-08-01T00:00:00.000Z","2017-08-02T00:00:00.000Z","2017-08-03T00:00:00.000Z","2017-08-04T00:00:00.000Z","2017-08-07T00:00:00.000Z","2017-08-08T00:00:00.000Z","2017-08-09T00:00:00.000Z","2017-08-10T00:00:00.000Z","2017-08-11T00:00:00.000Z","2017-08-14T00:00:00.000Z","2017-08-15T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-08-17T00:00:00.000Z","2017-08-18T00:00:00.000Z","2017-08-21T00:00:00.000Z","2017-08-22T00:00:00.000Z","2017-08-23T00:00:00.000Z","2017-08-24T00:00:00.000Z","2017-08-25T00:00:00.000Z","2017-08-28T00:00:00.000Z","2017-08-29T00:00:00.000Z","2017-08-30T00:00:00.000Z","2017-08-31T00:00:00.000Z","2017-09-01T00:00:00.000Z","2017-09-05T00:00:00.000Z","2017-09-06T00:00:00.000Z","2017-09-07T00:00:00.000Z","2017-09-08T00:00:00.000Z","2017-09-11T00:00:00.000Z","2017-09-12T00:00:00.000Z","2017-09-13T00:00:00.000Z","2017-09-14T00:00:00.000Z","2017-09-15T00:00:00.000Z","2017-09-18T00:00:00.000Z","2017-09-19T00:00:00.000Z","2017-09-20T00:00:00.000Z","2017-09-21T00:00:00.000Z","2017-09-22T00:00:00.000Z","2017-09-25T00:00:00.000Z","2017-09-26T00:00:00.000Z","2017-09-27T00:00:00.000Z","2017-09-28T00:00:00.000Z","2017-09-29T00:00:00.000Z","2017-10-02T00:00:00.000Z","2017-10-03T00:00:00.000Z","2017-10-04T00:00:00.000Z","2017-10-05T00:00:00.000Z","2017-10-06T00:00:00.000Z","2017-10-09T00:00:00.000Z","2017-10-10T00:00:00.000Z","2017-10-11T00:00:00.000Z","2017-10-12T00:00:00.000Z","2017-10-13T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-10-17T00:00:00.000Z","2017-10-18T00:00:00.000Z","2017-10-19T00:00:00.000Z","2017-10-20T00:00:00.000Z","2017-10-23T00:00:00.000Z","2017-10-24T00:00:00.000Z","2017-10-25T00:00:00.000Z","2017-10-26T00:00:00.000Z","2017-10-27T00:00:00.000Z","2017-10-30T00:00:00.000Z","2017-10-31T00:00:00.000Z","2017-11-01T00:00:00.000Z","2017-11-02T00:00:00.000Z","2017-11-03T00:00:00.000Z","2017-11-06T00:00:00.000Z","2017-11-07T00:00:00.000Z","2017-11-08T00:00:00.000Z","2017-11-09T00:00:00.000Z","2017-11-10T00:00:00.000Z","2017-11-13T00:00:00.000Z","2017-11-14T00:00:00.000Z","2017-11-15T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-11-17T00:00:00.000Z","2017-11-20T00:00:00.000Z","2017-11-21T00:00:00.000Z","2017-11-22T00:00:00.000Z","2017-11-24T00:00:00.000Z","2017-11-27T00:00:00.000Z","2017-11-28T00:00:00.000Z","2017-11-29T00:00:00.000Z","2017-11-30T00:00:00.000Z","2017-12-01T00:00:00.000Z","2017-12-04T00:00:00.000Z","2017-12-05T00:00:00.000Z","2017-12-06T00:00:00.000Z","2017-12-07T00:00:00.000Z","2017-12-08T00:00:00.000Z","2017-12-11T00:00:00.000Z","2017-12-12T00:00:00.000Z","2017-12-13T00:00:00.000Z","2017-12-14T00:00:00.000Z","2017-12-15T00:00:00.000Z","2017-12-18T00:00:00.000Z","2017-12-19T00:00:00.000Z","2017-12-20T00:00:00.000Z","2017-12-21T00:00:00.000Z","2017-12-22T00:00:00.000Z","2017-12-26T00:00:00.000Z","2017-12-27T00:00:00.000Z","2017-12-28T00:00:00.000Z","2017-12-29T00:00:00.000Z","2018-01-02T00:00:00.000Z","2018-01-03T00:00:00.000Z","2018-01-04T00:00:00.000Z","2018-01-05T00:00:00.000Z","2018-01-08T00:00:00.000Z","2018-01-09T00:00:00.000Z","2018-01-10T00:00:00.000Z","2018-01-11T00:00:00.000Z","2018-01-12T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-01-17T00:00:00.000Z","2018-01-18T00:00:00.000Z","2018-01-19T00:00:00.000Z","2018-01-22T00:00:00.000Z","2018-01-23T00:00:00.000Z","2018-01-24T00:00:00.000Z","2018-01-25T00:00:00.000Z","2018-01-26T00:00:00.000Z","2018-01-29T00:00:00.000Z","2018-01-30T00:00:00.000Z","2018-01-31T00:00:00.000Z","2018-02-01T00:00:00.000Z","2018-02-02T00:00:00.000Z","2018-02-05T00:00:00.000Z","2018-02-06T00:00:00.000Z","2018-02-07T00:00:00.000Z","2018-02-08T00:00:00.000Z","2018-02-09T00:00:00.000Z","2018-02-12T00:00:00.000Z","2018-02-13T00:00:00.000Z","2018-02-14T00:00:00.000Z","2018-02-15T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-02-20T00:00:00.000Z","2018-02-21T00:00:00.000Z","2018-02-22T00:00:00.000Z","2018-02-23T00:00:00.000Z","2018-02-26T00:00:00.000Z","2018-02-27T00:00:00.000Z","2018-02-28T00:00:00.000Z","2018-03-01T00:00:00.000Z","2018-03-02T00:00:00.000Z","2018-03-05T00:00:00.000Z","2018-03-06T00:00:00.000Z","2018-03-07T00:00:00.000Z","2018-03-08T00:00:00.000Z","2018-03-09T00:00:00.000Z","2018-03-12T00:00:00.000Z","2018-03-13T00:00:00.000Z","2018-03-14T00:00:00.000Z","2018-03-15T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-03-19T00:00:00.000Z","2018-03-20T00:00:00.000Z","2018-03-21T00:00:00.000Z","2018-03-22T00:00:00.000Z","2018-03-23T00:00:00.000Z","2018-03-26T00:00:00.000Z","2018-03-27T00:00:00.000Z","2018-03-28T00:00:00.000Z","2018-03-29T00:00:00.000Z","2018-04-02T00:00:00.000Z","2018-04-03T00:00:00.000Z","2018-04-04T00:00:00.000Z","2018-04-05T00:00:00.000Z","2018-04-06T00:00:00.000Z","2018-04-09T00:00:00.000Z","2018-04-10T00:00:00.000Z","2018-04-11T00:00:00.000Z","2018-04-12T00:00:00.000Z","2018-04-13T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-04-17T00:00:00.000Z","2018-04-18T00:00:00.000Z","2018-04-19T00:00:00.000Z","2018-04-20T00:00:00.000Z","2018-04-23T00:00:00.000Z","2018-04-24T00:00:00.000Z","2018-04-25T00:00:00.000Z","2018-04-26T00:00:00.000Z","2018-04-27T00:00:00.000Z","2018-04-30T00:00:00.000Z","2018-05-01T00:00:00.000Z","2018-05-02T00:00:00.000Z","2018-05-03T00:00:00.000Z","2018-05-04T00:00:00.000Z","2018-05-07T00:00:00.000Z","2018-05-08T00:00:00.000Z","2018-05-09T00:00:00.000Z","2018-05-10T00:00:00.000Z","2018-05-11T00:00:00.000Z","2018-05-14T00:00:00.000Z","2018-05-15T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-05-17T00:00:00.000Z","2018-05-18T00:00:00.000Z","2018-05-21T00:00:00.000Z","2018-05-22T00:00:00.000Z","2018-05-23T00:00:00.000Z","2018-05-24T00:00:00.000Z","2018-05-25T00:00:00.000Z","2018-05-29T00:00:00.000Z","2018-05-30T00:00:00.000Z","2018-05-31T00:00:00.000Z"],[106.852013,109.237373,109.524773,108.729637,111.114967,112.65731,112.235809,112.111267,111.584396,110.980896,112.207077,112.053787,111.143738,111.210793,113.6632,113.912262,114.62117,113.605721,113.500336,113.682365,113.260849,113.76857,114.324203,114.937302,115.914421,114.803169,114.994781,115.45459,115.780304,115.253418,115.588707,115.205528,115.128883,113.117157,113.212952,113.87394,113.644028,112.88723,113.126732,112.408249,112.350784,112.283722,113.088417,115.291748,115.464172,116.048538,116.862816,122.744743,125.072617,124.651123,124.842697,124.593636,124.469109,124.670265,123.923035,123.635681,123.788933,123.942215,125.312103,125.599495,127.963142,127.703735,127.598038,126.887001,126.224045,126.64679,127.357811,128.039978,128.155334,128.261002,129.894409,129.75029,130.787964,130.384399,129.807922,131.614304,130.326767,130.605423,130.240311,130.951324,130.365204,131.210739,131.383728,130.768768,130.490082,131.057007,130.739929,130.884064,130.278732,130.422852,130.00972,129.577347,131.662323,131.91214,131.057007,131.931351,131.950577,133.785767,134.006775,133.305328,130.855255,130.00972,129.711884,131.133881,130.749542,131.498993,133.37262,131.854462,130.547775,130.586243,130.336395,129.759903,131.278015,130.365204,128.972015,129.971268,131.028214,131.921753,131.777206,131.420731,132.133728,131.459244,131.729065,131.815781,132.866058,132.596252,133.126236,132.133728,132.374634,130.514954,130.582428,131.844681,135.226791,135.87236,136.460175,137.385162,136.633591,134.475189,133.964539,133.868164,134.311432,134.34993,133.309296,134.427032,132.153015,132.413193,132.981644,134.465576,132.220459,133.328552,133.935593,133.868164,134.706482,134.060867,134.677567,134.956985,136.363815,137.52005,137.780243,138.64743,139.254517,139.524323,140.882935,137.481537,139.803741,140.140991,140.931091,140.189163,139.65918,140.131332,140.169876,137.182816,137.732071,136.884125,136.200012,137.606781,137.67424,137.789856,135.506226,134.793198,134.744995,137.038284,136.217026,135.637299,135.946472,135.869171,136.043106,136.642166,137.656662,136.806396,136.332962,136.613159,137.898209,119.066689,109.298264,112.042305,95.645638,93.394363,89.838699,91.191391,91.664825,92.756653,94.930649,101.491241,101.539551,102.467125,102.843948,102.776306,102.409134,104.167648,106.718468,108.148468,109.153328,107.578392,108.457649,109.704079,106.766777,105.133873,105.80056,105.027596,104.911652,106.882721,106.776436,106.254692,105.665276,105.124214,103.906769,105.269142,105.694275,105.32711,104.863335,106.090424,105.24015,105.027596,104.380226,103.790833,103.578262,105.269142,105.066238,105.114548,105.616966,106.486565,105.877853,107.607384,107.162926,106.969696,106.475166,106.562424,107.144211,108.685913,109.22892,110.654274,109.500404,109.956139,110.916077,112.17659,113.281967,113.834671,114.920639,114.629761,113.834671,114.600677,115.880585,114.736435,115.812706,115.279411,115.938774,116.09391,115.366692,116.142395,116.09391,114.338867,115.909668,116.510849,117.9459,119.099762,118.285271,118.537376,117.49987,117.800453,119.119156,118.450104,119.477905,119.109459,120.748138,121.203865,121.19416,121.91169,122.900703,123.618248,120.980843,119.342171,121.135979,120.379677,117.800453,114.804291,114.813988,114.02858,110.53791,108.792587,110.925766,111.071228,110.586388,113.611641,113.892838,112.040855,110.37307,111.711159,111.895401,111.546341,110.722145,109.568283,108.113838,113.66983,117.664688,117.703484,117.441696,117.286545,121.518089,121.469467,120.370209,119.835205,120.282669,120.097839,118.930542,119.737915,117.772926,114.42662,112.695084,114.757355,113.249557,115.798218,114.601715,111.819595,115.156189,115.83712,116.362419,114.377983,113.667854,114.76709,114.115326,113.726227,112.840996,113.483032,115.662025,115.175652,115.545288,115.64257,116.362419,115.885765,116.576439,112.811829,111.167847,108.998581,109.951881,109.640594,109.436325,109.3974,109.922714,108.230087,110.759293,111.693138,111.595871,110.399361,110.914909,111.352676,111.547211,111.586128,113.317657,112.490814,112.597809,111.914574,112.451401,111.182526,111.777916,111.231331],[1964600,1084700,1065200,834300,762900,873500,618100,852200,812000,838900,1003500,1182800,748500,710200,1334500,763500,736100,507600,926200,503600,788500,766800,894800,553000,576500,759500,592900,559800,508600,432900,544000,984800,810400,1508700,593500,676000,1260300,508900,822100,521800,664000,825400,679300,562600,1197800,700900,946000,1803100,2566900,896600,709600,612600,674900,581400,1113700,1124000,765600,819600,866800,1300300,892500,735400,550600,737400,560900,715100,386700,577600,542800,640000,612600,871600,855000,502500,1667400,1179700,600100,335000,355700,458300,685700,1054200,620700,725300,391400,868200,307800,409900,496500,405200,388700,327400,380000,539400,564900,493800,481900,668900,574600,624300,1593900,1177900,946400,657000,589100,508000,514100,416200,451100,366600,300600,297400,463900,302900,526000,568300,716900,515500,396200,558000,604200,324900,622400,721500,577600,421800,458900,563200,350500,635700,384400,560000,706600,726900,481300,939300,785400,696500,471700,422700,588800,252100,291300,504700,398700,625900,261400,558900,783400,519100,341100,387700,479900,416400,277200,363700,427900,477700,466600,268700,548700,483800,692200,1210500,704000,725300,452800,651700,594100,404300,588700,623400,394100,452700,351600,386700,468000,485800,381600,530600,391300,608700,281600,221800,304000,476700,321900,221600,425400,363000,495000,452300,518500,16854700,9825500,6939100,17508900,34582400,16707700,10873800,7847000,8760500,5483600,12473500,8059400,7616800,7601600,3780300,3735900,3667000,6579300,3979300,3275700,2929600,1708500,1921500,2555200,5976200,2157900,3078400,1532100,2230800,2238300,1974000,2265600,1873500,2357400,1340700,1434600,1165700,1041000,1438300,1240100,939700,1740400,1866700,2539000,2048600,2160800,1657500,1126400,867600,1127900,902200,580100,716900,523100,344000,657100,1421000,1728200,1852600,1358500,1307100,1290400,1422200,1094400,1143800,1291300,990600,1317100,1303700,2501100,973100,986800,817700,739000,770000,617200,627800,548900,803800,1674500,1493700,1237000,848200,2727300,720100,1026700,1078900,1118500,1014400,978900,929300,1177900,1326400,923200,1500500,1045700,1087900,1005700,1576100,887700,676500,1661100,1452100,1462500,1126100,1572300,2839400,1117000,699800,1323800,1253600,804600,1102400,1160600,1342200,1298300,1235500,1130000,1120800,1660800,2811200,2088100,1446700,1039000,830300,1575300,926200,958700,869200,704500,968200,1216900,1033900,1140900,1966500,978300,615300,875300,1550900,986100,981300,1157800,957500,887500,865300,1045200,1055900,565800,555200,941000,604800,448200,620700,758400,1030300,703300,671800,1058500,1928600,903800,1328000,718400,771200,567300,611900,1203600,1067800,892100,764400,757300,839700,1455700,673200,634100,856400,507200,855500,552500,629900,360000,773400,647100,955500]],"fixedtz":false,"tzone":"UTC"},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
</div>
<div id="create-benchmark-model-fama-french-5-factor-model" class="section level3">
<h3>Create Benchmark Model: Fama-French 5 Factor Model</h3>
<p>With help of a benchmark model (which will be based on data from a period prior to the first even), we can calculate abnormal returns and their respective t-values to detect any potential insider trading or deviation from EMH.</p>
<p><span class="math display">\[Formulas\]</span> <span class="math display">\[R_{EFX} - R_{rf} = \alpha + \beta_1 MRP + \beta_2 SMB + \beta_3 HML + \beta_4 RMW + \beta_5 CMA + \epsilon\]</span> To estimate the coefficients of this model, I will be using an OLS regression (I assume that all 5/6 assumptions are met).</p>
<p><span class="math display">\[R_{Abnormal} = R_{Actual} - R_{Expected}\]</span> <span class="math display">\[t.value = \frac{R_{Abnormal}}{RSE}\]</span></p>
<pre class="r"><code>#Import fama-french variables, downloaded from Fama&#39;s website. *Excel sheet is adjusted. 
FF.factors &lt;- read.csv(&quot;C:/Users/fredr/Desktop/webpage final/larssonft.github.io-master/F-F_Research_Data_5_Factors_2x3_daily.CSV&quot;)
ff.df &lt;- data.frame(df$Return, FF.factors[,2:7]/100); ff.df &lt;- as.xts(ff.df)#/100 to convert to decimal form.

#Seperate data into training and testing sets so that the model does not account for large unexpected returns. 
n.days &lt;- 15#How many days before the first announcement should we study (important for insider trading)
train.df &lt;- subset(ff.df, as.character(index(ff.df)) &lt; as.Date(announcement.dates[1]) - n.days)
test.df &lt;- subset(ff.df, as.character(index(ff.df)) &gt; as.Date(announcement.dates[1]) - (n.days+1) &amp;
                    as.character(index(ff.df)) &lt; as.Date(announcement.dates[5]) + n.days)

#Create OLS model. To meet the 5/6 underlying assumptions for OLS regression, I will use returns (Stationarity).
ff &lt;- lm((Return - RF) ~ Mkt.RF + SMB + HML + RMW + CMA, data = train.df)
summary(ff)#Only MRP is significantly different from 0; this model can only explain ~26% of variance in EFX Return.</code></pre>
<pre><code>## 
## Call:
## lm(formula = (Return - RF) ~ Mkt.RF + SMB + HML + RMW + CMA, 
##     data = train.df)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.025273 -0.003627  0.000305  0.003742  0.042488 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  0.0006946  0.0006013   1.155    0.250    
## Mkt.RF       0.9743221  0.1365624   7.135 2.47e-11 ***
## SMB         -0.1916518  0.1402263  -1.367    0.173    
## HML         -0.2063085  0.1464925  -1.408    0.161    
## RMW         -0.0746005  0.2187584  -0.341    0.733    
## CMA          0.3216042  0.2318554   1.387    0.167    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.007799 on 175 degrees of freedom
##   (1 observation deleted due to missingness)
## Multiple R-squared:  0.2573, Adjusted R-squared:  0.2361 
## F-statistic: 12.13 on 5 and 175 DF,  p-value: 4.275e-10</code></pre>
<pre class="r"><code>#Apply the estimated coefficients/model on the testing data to detect abnormal returns.
comp.df &lt;- cbind.xts(test.df$Return, #Actual Returns
                     predict(ff, test.df) + test.df$RF, #Predicted Return (FF-5 Factor)
                     test.df$Return -  predict(ff, test.df) + test.df$RF, #Abnormal Returns
                     (test.df$Return -  predict(ff, test.df) + test.df$RF)/summary(ff)$sigma)#t-value Abnormal Return

names(comp.df) &lt;- c(&quot;Actual.R&quot;, &quot;Expected.R&quot;, &quot;Abnormal.R&quot;, &quot;t.value&quot;)
t.value &lt;- 1.96#Alpha = .95

#Extract dates with abnormal returns that are significantly different from 0 (i.e. absoulte t-value &gt; 1.96).
abnormal.dates &lt;- subset(index(comp.df), abs(comp.df$t.value) &gt; t.value) 

#Graph stock price, event dates, and dates with abnormal returns. 
dygraph(comp.df[,1:2], xlab = &quot;Date&quot;, ylab = &quot;Return&quot;, main = &quot;Actual vs. Expected Returns&quot;) %&gt;%
  dyRangeSelector(dateWindow = c(&quot;2017-09-05&quot;, &quot;2017-10-03&quot;)) %&gt;%
  dyRoller(rollPeriod = 1) %&gt;%
  dyEvent(announcement.dates, label = announcement.explain, col = &quot;orange&quot;, labelLoc = &quot;bottom&quot;) %&gt;%
  dyEvent(abnormal.dates, label = c(&quot;Abnormal&quot;, 2:length(abnormal.dates)), col = &quot;purple&quot;, labelLoc = &quot;bottom&quot;) %&gt;%
  dyOptions(drawGrid = FALSE)%&gt;%
  dyLegend(width = 400)</code></pre>
<div id="htmlwidget-24200691e4ec834f561c" style="width:672px;height:480px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-24200691e4ec834f561c">{"x":{"attrs":{"title":"Actual vs. Expected Returns","xlabel":"Date","ylabel":"Return","labels":["day","Actual.R","Expected.R"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"showRangeSelector":true,"dateWindow":["2017-09-05T00:00:00.000Z","2017-10-03T00:00:00.000Z"],"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel","showRoller":true,"rollPeriod":1,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":false,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"auto","labelsDivWidth":400,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true},"scale":"daily","annotations":[],"shadings":[],"events":[{"pos":"2017-09-07T00:00:00.000Z","label":"Announces breach","labelLoc":"bottom","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-11T00:00:00.000Z","label":"Tweets phishing site","labelLoc":"bottom","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-15T00:00:00.000Z","label":"CSO & CIO retire","labelLoc":"bottom","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-26T00:00:00.000Z","label":"CEO retires","labelLoc":"bottom","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-10-02T00:00:00.000Z","label":"Announces more affected","labelLoc":"bottom","color":"orange","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-08T07:00:00.000Z","label":"Abnormal","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-11T07:00:00.000Z","label":"2","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-12T07:00:00.000Z","label":"3","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-13T07:00:00.000Z","label":"4","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-14T07:00:00.000Z","label":"5","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-15T07:00:00.000Z","label":"6","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-21T07:00:00.000Z","label":"7","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-09-22T07:00:00.000Z","label":"8","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-10-03T07:00:00.000Z","label":"9","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-10-11T07:00:00.000Z","label":"10","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"},{"pos":"2017-10-12T07:00:00.000Z","label":"11","labelLoc":"bottom","color":"purple","strokePattern":[7,3],"axis":"x"}],"format":"date","data":[["2017-08-23T07:00:00.000Z","2017-08-24T07:00:00.000Z","2017-08-25T07:00:00.000Z","2017-08-28T07:00:00.000Z","2017-08-29T07:00:00.000Z","2017-08-30T07:00:00.000Z","2017-08-31T07:00:00.000Z","2017-09-01T07:00:00.000Z","2017-09-05T07:00:00.000Z","2017-09-06T07:00:00.000Z","2017-09-07T07:00:00.000Z","2017-09-08T07:00:00.000Z","2017-09-11T07:00:00.000Z","2017-09-12T07:00:00.000Z","2017-09-13T07:00:00.000Z","2017-09-14T07:00:00.000Z","2017-09-15T07:00:00.000Z","2017-09-18T07:00:00.000Z","2017-09-19T07:00:00.000Z","2017-09-20T07:00:00.000Z","2017-09-21T07:00:00.000Z","2017-09-22T07:00:00.000Z","2017-09-25T07:00:00.000Z","2017-09-26T07:00:00.000Z","2017-09-27T07:00:00.000Z","2017-09-28T07:00:00.000Z","2017-09-29T07:00:00.000Z","2017-10-02T07:00:00.000Z","2017-10-03T07:00:00.000Z","2017-10-04T07:00:00.000Z","2017-10-05T07:00:00.000Z","2017-10-06T07:00:00.000Z","2017-10-09T07:00:00.000Z","2017-10-10T07:00:00.000Z","2017-10-11T07:00:00.000Z","2017-10-12T07:00:00.000Z","2017-10-13T07:00:00.000Z","2017-10-16T07:00:00.000Z"],[-0.00601093880125703,-0.00426498919063167,0.00227681597042118,-0.000568775227436369,0.00127934660135764,0.00439379038965626,0.00739704674046049,-0.00619587004715427,-0.00346661482686095,0.00205313119967165,0.00936252218841638,-0.146832049138484,-0.0856032357389722,0.0247960110246925,-0.158226432107269,-0.0238191009882529,-0.0388151610691603,0.014944666669547,0.00517822219275477,0.0118407114857142,0.0231671851135324,0.0668258847048708,0.000475888415110148,0.00909362781895862,0.00367075596671196,-0.000657931318770011,-0.00357893222752992,0.0170256934178274,0.0241926254779647,0.0133107600459352,0.00924858589443467,-0.0145337629650912,0.00813995526677935,0.0114267848328939,-0.0271397484642373,-0.015412282340761,0.00632129340397292,-0.00733267774159607],[-0.0028292758394825,-0.00147234526148229,0.00166360249079538,0.00165972126598472,0.0026402380878166,0.00498552462012241,0.00678916333833037,0.00279459454656607,-0.00337945437098501,0.00377097182575105,0.00219271210413381,-0.00242378008973099,0.0100132486380181,0.00329541546621221,0.00101512376676071,0.000794041943074436,0.00166445120061041,0.00291055010141017,0.00209665019313455,0.00180615003529996,-0.00331503946449416,0.00147401881098216,-0.00137736628833921,-0.000724965877017839,0.00231178857825539,0.00130698441320757,0.00388149421521566,0.00458663338521536,0.00307480596473229,0.00290296656012397,0.00562754177376509,-0.00062951534241006,-0.00138431175448631,0.00239806107467951,0.00309514162942689,0.00044410453721066,0.00124092321090164,0.00188775776715375]],"fixedtz":false,"tzone":""},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
<p>Looking at the dates with abnormal returns, we failed to detect any potential insider trading. The CEO was, however, charged with insider trading as he unloaded his position in Equifax (~5M) prior to announcing the breach. I suspect that ~5M is insufficiently large to create any distortion in the stock price.</p>
<p>On the other hand, it appears that EFX deviated from Efficient Market Hypothesis, as the market failed to react instantly to new information.</p>
</div>
<div id="fama-french-5-factor-model-dummy-variables" class="section level3">
<h3>Fama-French 5 Factor Model + Dummy Variables</h3>
<p>Evidentially, the data breach had a significantly negative impact on the stock price. By using dummy variables, we can try to quantify the actual impact on the days when new information arises. In this scenario, we donâ€™t need to seperate the data into training and testing sets, as we only want to measure the impact of the dummy variable.</p>
<p><span class="math display">\[Formula\]</span> <span class="math display">\[R_{EFX} - R_{rf} = \alpha + \beta_1 MRP + \beta_2 SMB + \beta_3 HML + \beta_4 RMW + \beta_5 CMA + \phi_1 D_N + \phi_2 D_P + \epsilon\]</span></p>
<pre class="r"><code>ff.df &lt;- data.frame(ff.df, df$Negative.D, df$Positive.D); ff.df &lt;- as.xts(ff.df)#Add dummy variables

ff.d &lt;- lm(Return ~ Mkt.RF + SMB + HML + RMW + CMA + Negative.D + Positive.D, data = ff.df)
summary(ff.d)</code></pre>
<pre><code>## 
## Call:
## lm(formula = Return ~ Mkt.RF + SMB + HML + RMW + CMA + Negative.D + 
##     Positive.D, data = ff.df)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.158043 -0.004721  0.000095  0.005455  0.087379 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  0.0001533  0.0007513   0.204    0.838    
## Mkt.RF       0.8590657  0.1098761   7.818 5.72e-14 ***
## SMB          0.0152909  0.1601109   0.096    0.924    
## HML         -0.1718530  0.1889431  -0.910    0.364    
## RMW          0.3301216  0.2405456   1.372    0.171    
## CMA          0.4210724  0.2885179   1.459    0.145    
## Negative.D  -0.0751273  0.0083241  -9.025  &lt; 2e-16 ***
## Positive.D   0.0104505  0.0101479   1.030    0.304    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.01427 on 367 degrees of freedom
##   (1 observation deleted due to missingness)
## Multiple R-squared:  0.2765, Adjusted R-squared:  0.2627 
## F-statistic: 20.04 on 7 and 367 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Based on the estimated coefficients and their t-values, we can exepect that a similar negative event (and subsequent negative events) will generate a -7.5% return the same day. Subsequent positive events, however, are not significantly different from 0%, and thus cannot be estimated.</p>
</div>
<div id="impulse-response-function-vector-autoregression" class="section level3">
<h3>Impulse Response Function + Vector Autoregression</h3>
<p>Until this point, we have a rough estimate what will happen to the stock price on the dates of announcement. Nevertheless, our analysis fails to consider the long-run outcome. With help of IRF and VAR, we will try to estimate any structural changes to the stock price.</p>
<p>Firstly, I will analyze the stock price, and secondly, I will look at stock returns.</p>
<p>In reality, one should be careful with non-stationary variables (in this case, only return is a stationary variable).</p>
<p><br/><br/></p>
<div id="stock-price" class="section level4">
<h4>Stock Price</h4>
<p>Looking at the IRF graph, it appears to be a structural change to the stock price of about -$38 in the long-run.</p>
<pre class="r"><code>df.price &lt;- cbind.xts(EFX$EFX.Adjusted, df$Negative.D, df$Positive.D); names(df.price) &lt;- c(&quot;Price&quot;, &quot;N&quot;, &quot;P&quot;)

#VARselect(df.price, lag.max = 25)#16 Lags is the optimal model (Lowest AIC)
VAR.price &lt;- VAR(df.price, type = &quot;const&quot;, p = 16)#p = # of lags

IRF.price &lt;- irf(VAR.price, impulse = c(&quot;N&quot;, &quot;P&quot;), cumulative = TRUE, n.ahead = 100)

IRF.price.change &lt;- data.frame(IRF.price$irf$N[,1], IRF.price$Lower$N[,1], IRF.price$Upper$N[,1],
                               IRF.price$irf$P[,1], IRF.price$Lower$P[,1], IRF.price$Upper$P[,1])
names(IRF.price.change) &lt;- c(&quot;N.Price&quot;, &quot;N.L&quot;, &quot;N.H&quot;, &quot;P.Price&quot;, &quot;P.L&quot;, &quot;P.H&quot;)

IRF.price.change &lt;- ts(IRF.price.change, start = 0, end = (nrow(IRF.price.change)-1))

#For dygraph, I used a time-series (ts) object as xts requires specific dates. 
dygraph(IRF.price.change, main = &quot;Cumulative Change in Price&quot;, xlab = &quot;Days after Event&quot;, ylab = &quot;Price&quot;) %&gt;%
  dySeries(c(&quot;N.L&quot;, &quot;N.Price&quot;, &quot;N.H&quot;), label = &quot;Negative News&quot;, col = &quot;red&quot;) %&gt;%
  dySeries(c(&quot;P.L&quot;, &quot;P.Price&quot;, &quot;P.H&quot;), label = &quot;Positive News&quot;, col = &quot;green&quot;) %&gt;%
  dyRangeSelector() %&gt;%
  dyLegend(width = 400)</code></pre>
<div id="htmlwidget-4fba4b56408b365b278b" style="width:672px;height:480px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-4fba4b56408b365b278b">{"x":{"attrs":{"title":"Cumulative Change in Price","xlabel":"Days after Event","ylabel":"Price","labels":["year","Negative News","Positive News"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["red","green"],"customBars":true,"series":{"Negative News":{"axis":"y"},"Positive News":{"axis":"y"}},"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel","legend":"auto","labelsDivWidth":400,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true},"scale":"yearly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["0000-01-01T00:00:00.000Z","0001-01-01T00:00:00.000Z","0002-01-01T00:00:00.000Z","0003-01-01T00:00:00.000Z","0004-01-01T00:00:00.000Z","0005-01-01T00:00:00.000Z","0006-01-01T00:00:00.000Z","0007-01-01T00:00:00.000Z","0008-01-01T00:00:00.000Z","0009-01-01T00:00:00.000Z","0010-01-01T00:00:00.000Z","0011-01-01T00:00:00.000Z","0012-01-01T00:00:00.000Z","0013-01-01T00:00:00.000Z","0014-01-01T00:00:00.000Z","0015-01-01T00:00:00.000Z","0016-01-01T00:00:00.000Z","0017-01-01T00:00:00.000Z","0018-01-01T00:00:00.000Z","0019-01-01T00:00:00.000Z","0020-01-01T00:00:00.000Z","0021-01-01T00:00:00.000Z","0022-01-01T00:00:00.000Z","0023-01-01T00:00:00.000Z","0024-01-01T00:00:00.000Z","0025-01-01T00:00:00.000Z","0026-01-01T00:00:00.000Z","0027-01-01T00:00:00.000Z","0028-01-01T00:00:00.000Z","0029-01-01T00:00:00.000Z","0030-01-01T00:00:00.000Z","0031-01-01T00:00:00.000Z","0032-01-01T00:00:00.000Z","0033-01-01T00:00:00.000Z","0034-01-01T00:00:00.000Z","0035-01-01T00:00:00.000Z","0036-01-01T00:00:00.000Z","0037-01-01T00:00:00.000Z","0038-01-01T00:00:00.000Z","0039-01-01T00:00:00.000Z","0040-01-01T00:00:00.000Z","0041-01-01T00:00:00.000Z","0042-01-01T00:00:00.000Z","0043-01-01T00:00:00.000Z","0044-01-01T00:00:00.000Z","0045-01-01T00:00:00.000Z","0046-01-01T00:00:00.000Z","0047-01-01T00:00:00.000Z","0048-01-01T00:00:00.000Z","0049-01-01T00:00:00.000Z","0050-01-01T00:00:00.000Z","0051-01-01T00:00:00.000Z","0052-01-01T00:00:00.000Z","0053-01-01T00:00:00.000Z","0054-01-01T00:00:00.000Z","0055-01-01T00:00:00.000Z","0056-01-01T00:00:00.000Z","0057-01-01T00:00:00.000Z","0058-01-01T00:00:00.000Z","0059-01-01T00:00:00.000Z","0060-01-01T00:00:00.000Z","0061-01-01T00:00:00.000Z","0062-01-01T00:00:00.000Z","0063-01-01T00:00:00.000Z","0064-01-01T00:00:00.000Z","0065-01-01T00:00:00.000Z","0066-01-01T00:00:00.000Z","0067-01-01T00:00:00.000Z","0068-01-01T00:00:00.000Z","0069-01-01T00:00:00.000Z","0070-01-01T00:00:00.000Z","0071-01-01T00:00:00.000Z","0072-01-01T00:00:00.000Z","0073-01-01T00:00:00.000Z","0074-01-01T00:00:00.000Z","0075-01-01T00:00:00.000Z","0076-01-01T00:00:00.000Z","0077-01-01T00:00:00.000Z","0078-01-01T00:00:00.000Z","0079-01-01T00:00:00.000Z","0080-01-01T00:00:00.000Z","0081-01-01T00:00:00.000Z","0082-01-01T00:00:00.000Z","0083-01-01T00:00:00.000Z","0084-01-01T00:00:00.000Z","0085-01-01T00:00:00.000Z","0086-01-01T00:00:00.000Z","0087-01-01T00:00:00.000Z","0088-01-01T00:00:00.000Z","0089-01-01T00:00:00.000Z","0090-01-01T00:00:00.000Z","0091-01-01T00:00:00.000Z","0092-01-01T00:00:00.000Z","0093-01-01T00:00:00.000Z","0094-01-01T00:00:00.000Z","0095-01-01T00:00:00.000Z","0096-01-01T00:00:00.000Z","0097-01-01T00:00:00.000Z","0098-01-01T00:00:00.000Z","0099-01-01T00:00:00.000Z","0100-01-01T00:00:00.000Z"],[[0,0,0],[-0.682029789359073,-0.401813383505895,-0.0241257599832442],[-1.5818023232518,-0.725235826497201,0.00534345140975206],[-3.54290813174692,-1.79492034502676,-0.127507851173282],[-5.64683622243391,-2.85366410462528,-0.204202436229696],[-7.90586288128697,-4.05038714270824,-0.320849315253712],[-10.2497331351166,-5.24319843397263,-0.439822691844658],[-12.7094794143184,-6.41045528743033,-0.585247620033735],[-15.051807258651,-7.52049934368619,-0.657858519623275],[-17.5332657123149,-8.65513982764785,-0.682815856554742],[-19.5963337216306,-9.47266296194534,-0.582741698670768],[-21.4093479486147,-10.1937636731737,-0.483917924941537],[-23.0708541661986,-10.9254520969558,-0.423130719017037],[-24.8250081968839,-11.6604241841135,-0.380367573475945],[-26.4461131054013,-12.411912487817,-0.31632089893151],[-27.9544387906807,-13.1248185259812,-0.282209814196689],[-29.1898550099447,-13.715931049477,-0.255579531465273],[-30.2043169887828,-14.2161544589728,0.0305258703141394],[-30.9337285045997,-14.5880388212996,0.564083945870408],[-31.5118131134379,-14.9142731886215,1.37279106920549],[-31.8562606142511,-15.3121248453095,2.20398726761436],[-31.8048922574535,-15.6779286789214,2.77634084059306],[-31.5709119643393,-15.9739722127841,2.75696640674454],[-31.4724381202769,-16.400952204723,2.7027702230872],[-31.4659078868544,-16.9185348134193,2.41513716385087],[-31.7026075379178,-17.4530509596984,2.49793007106262],[-31.9494989630102,-18.0122827902467,2.71649314058833],[-32.5541099412354,-18.5865077008523,2.94336687918072],[-33.3515275840491,-19.0743860071871,3.22964772575166],[-34.1019291394247,-19.5730892779632,3.3893568177054],[-34.8408368562269,-20.0952708708935,3.39744088993765],[-35.5813722963633,-20.6439961181617,3.39831627002191],[-36.3460144935889,-21.2409657431574,3.3613792807823],[-37.1417187970701,-21.8237795425728,3.21581415103718],[-37.924100014192,-22.3959936805809,3.08820210013012],[-38.9177037560031,-22.9615668861678,3.09558113641049],[-40.3056405608852,-23.5218600535735,3.09037721909704],[-41.7759178834396,-24.0759504557122,3.08090210370842],[-43.4409651841039,-24.5943112755142,3.08450766496802],[-45.943155486187,-25.0846828230561,3.2164935099182],[-48.6086280071119,-25.5603089360546,3.44253743167501],[-50.9883924984477,-26.021300263168,4.10408054282763],[-51.9981264142607,-26.4799925497441,5.11168801807821],[-52.9810885661096,-26.9310157910705,5.23364267907835],[-53.9182601429278,-27.3621399011167,5.31466531351391],[-54.810642757491,-27.7782416895011,5.30562550814688],[-55.6683239756878,-28.177633114286,4.84231879414719],[-56.6409505737184,-28.5699362959808,4.40813105352942],[-57.7927609040109,-28.9511483850288,4.14619038310745],[-58.8817363360296,-29.3187738060933,4.21779826385606],[-60.0658034786863,-29.6755200826892,4.27852962705963],[-61.1865954335567,-30.019654305385,4.34231150190538],[-62.2757777172323,-30.3572734564278,4.38597423476717],[-63.3597944001082,-30.6909623294803,4.42001231541903],[-63.7650141471164,-31.0169590729983,4.45050740416165],[-62.48727952407,-31.33097763845,4.4591401814884],[-61.3332180128421,-31.6289738310166,4.461077308485],[-59.9193482152727,-31.9158714141563,4.45897190878846],[-58.4557235361103,-32.1955938263581,4.4627852630773],[-56.865688017709,-32.4655961732393,4.48039874944399],[-57.2149791250485,-32.7275966821889,4.50184724397327],[-57.5207111675988,-32.981763942123,4.52592927155327],[-57.7575353060049,-33.2263892452455,4.54568317178871],[-58.0572799711488,-33.4638429281264,5.14319157536391],[-58.506138918963,-33.6958303461478,5.14321393833051],[-58.9238228422939,-33.9212540231485,5.1279063403505],[-59.323849152745,-34.1372847233106,5.11505724882099],[-59.6899979449674,-34.34344079346,5.09416678336681],[-60.02108454514,-34.5414005985278,5.07467783607731],[-60.4143848274617,-34.7332517274689,5.06610808468429],[-60.8386310996645,-34.9206075391357,5.04453197453734],[-61.2410063988849,-35.1031401552561,4.64485159703328],[-61.6719345757777,-35.2789010155597,4.65025984706883],[-62.0780294402907,-35.447619647943,4.64951318656169],[-62.4812606440052,-35.6099786555592,4.65299282528908],[-62.8715661527269,-35.7661121837872,4.65775946522648],[-63.2362959898711,-35.9168191068336,4.6705622175602],[-63.5752562593617,-36.0617854536893,4.6810769157344],[-63.8823201950226,-36.2004805450004,4.68778925964525],[-64.1453545180335,-36.333213916509,4.6953174879715],[-64.3712256905719,-36.4606911005466,4.70185220874208],[-64.5725416722474,-36.5837850259596,4.71172196734619],[-64.7612248657334,-36.7023138849333,4.72286653555561],[-64.9434044148991,-36.8157732011382,4.72930908508881],[-65.0996580553127,-36.9241397954507,5.33082485058211],[-65.2290646026475,-37.0274861645551,5.36165389398018],[-65.3423137894955,-37.1264081009657,5.39649032045409],[-65.4528961417426,-37.221384946043,5.42901396107584],[-65.54604193992,-37.3122946759397,5.45766567217424],[-65.6237014852994,-37.3991367349556,5.49170453903527],[-65.6842498323555,-37.4819507610488,6.86846270247115],[-65.7256649938704,-37.5611525690386,9.62360771988189],[-65.7899592754037,-37.6371524471449,7.38863893160581],[-65.865709639212,-37.7098956632743,5.62518069967263],[-65.9276009274791,-37.7793737288201,5.65646953981389],[-65.9978944829114,-37.845527099933,5.68616235497245],[-66.0535560382378,-37.9084362827771,4.73198556781066],[-66.1086722118166,-37.9684499751788,4.73377436741578],[-66.1580195167957,-38.0258152793408,4.73061020504412],[-66.1911581364698,-38.0806289934077,5.80025904964902],[-66.2127274519531,-38.1328177257852,5.82327026808067]],[[0,0,0],[-3.15264531123212e-015,-7.81954246396643e-016,6.10547389752779e-016],[-4.79030793033587e-015,-1.0613106680744e-015,5.93716795919773e-016],[-6.05771680854011e-015,-1.26376804928088e-015,1.52807840663909e-015],[-7.27244660463979e-015,-1.19011293760618e-015,2.93557971503482e-015],[-9.06445457620286e-015,-1.2273828833119e-015,4.99075238306829e-015],[-1.11686115914855e-014,-1.06229162375515e-015,7.95759970382543e-015],[-1.30900472850565e-014,-9.61211731010474e-016,8.96846294280995e-015],[-1.3837888992538e-014,-7.95291865555175e-016,1.05419600722713e-014],[-1.57623036955697e-014,-7.50734824979362e-016,1.20876928487652e-014],[-1.66966976165142e-014,-5.0583637900021e-016,1.40452693423467e-014],[-1.82412846178036e-014,-6.4536890576236e-016,1.54193199969205e-014],[-2.0406692053401e-014,-6.1099127553847e-016,1.70821905898237e-014],[-2.23576305770081e-014,-5.8275959646107e-016,1.91876095864012e-014],[-2.40996030385258e-014,-5.63398942392699e-016,2.10580610368383e-014],[-2.54055644109118e-014,-3.59650898065574e-016,2.32315953179867e-014],[-2.67004583846212e-014,-3.88370060508183e-016,2.46820390351079e-014],[-2.79964159339694e-014,-3.35415261266198e-016,2.61798350540635e-014],[-2.86428898987038e-014,-3.69204887538252e-016,2.7131925817818e-014],[-2.95984293377175e-014,-4.85546358826568e-016,2.80847064223374e-014],[-3.00213233791887e-014,-5.43087097873996e-016,2.89375695491115e-014],[-3.1141359263656e-014,-6.66777795942058e-016,2.98342154972158e-014],[-3.167202083652e-014,-7.86714008658581e-016,3.05737466930959e-014],[-3.2473775134913e-014,-8.93384481344358e-016,3.1367079869266e-014],[-3.33745838688781e-014,-9.78955373864321e-016,3.21286027631464e-014],[-3.38755957006768e-014,-1.02541365057041e-015,3.29278002434046e-014],[-3.46446286851522e-014,-1.05255959170789e-015,3.38788616076918e-014],[-3.54733511391592e-014,-1.05815922148557e-015,3.48080038689552e-014],[-3.64033035557912e-014,-1.11831510270955e-015,3.55202077659266e-014],[-3.73502433944795e-014,-1.15695026741875e-015,3.62512762543559e-014],[-3.82298056121673e-014,-1.19707550219682e-015,3.66350113922103e-014],[-3.91377537346814e-014,-1.23616976242666e-015,3.67855192278908e-014],[-4.00425625658852e-014,-1.24243970739214e-015,3.62644720483708e-014],[-4.07665660992118e-014,-1.24001198202008e-015,3.66203923646882e-014],[-4.16262474814192e-014,-1.24515144843094e-015,3.61109440226626e-014],[-4.23751013737537e-014,-1.25198640650737e-015,3.67835745242419e-014],[-4.30837058300364e-014,-1.24709214200137e-015,3.7185693269867e-014],[-4.38054087091958e-014,-1.22535679290948e-015,3.78203919341958e-014],[-4.43823838264649e-014,-1.21618827071369e-015,3.8375135642516e-014],[-4.51077934702152e-014,-1.22107258444532e-015,3.88258457110465e-014],[-4.56871887282215e-014,-1.22448627451361e-015,3.93538550143518e-014],[-4.62624006628866e-014,-1.23754054240002e-015,4.01232422097939e-014],[-4.68276496988684e-014,-1.2421871309424e-015,4.07750908235455e-014],[-4.73434033998782e-014,-1.24435786578448e-015,4.24193677676328e-014],[-4.78254069925544e-014,-1.23644903374021e-015,4.29290264795179e-014],[-4.82907860349834e-014,-1.23661845559503e-015,4.45532555760491e-014],[-4.8720334671912e-014,-1.24156590081633e-015,4.57594900573262e-014],[-4.91664747832421e-014,-1.24518859126551e-015,4.71114142356013e-014],[-4.95257511282373e-014,-1.24899976429748e-015,4.7686448183461e-014],[-4.99008344673934e-014,-1.25224639755924e-015,4.80063887471207e-014],[-5.02728650532536e-014,-1.25601758082828e-015,4.84517294534625e-014],[-5.05921745262815e-014,-1.2634777992706e-015,4.87380146692514e-014],[-5.09191671986613e-014,-1.26760729274265e-015,4.90256691644623e-014],[-5.12084644431058e-014,-1.27003839223634e-015,4.92802954792601e-014],[-5.14897132966901e-014,-1.26800869879653e-015,4.95442030519996e-014],[-5.17545228462014e-014,-1.2640575135437e-015,4.97880664232657e-014],[-5.1994715263333e-014,-1.26472344506242e-015,5.00192498388586e-014],[-5.23786125156413e-014,-1.26521989323724e-015,5.02333903279405e-014],[-5.27837704475171e-014,-1.26872467785148e-015,4.91436168120611e-014],[-5.30118289748911e-014,-1.26994608613092e-015,4.93820791406644e-014],[-5.36367850681319e-014,-1.27011917513758e-015,4.97914120842576e-014],[-5.38859690494205e-014,-1.27077630804218e-015,5.01714939146926e-014],[-5.46036821499031e-014,-1.27138074603771e-015,5.05667827790943e-014],[-5.49093969403421e-014,-1.27255315897633e-015,5.08727326439045e-014],[-5.53883982168011e-014,-1.27203367489375e-015,5.10249017381577e-014],[-5.57722194737812e-014,-1.27034204614215e-015,5.10569091276378e-014],[-5.61439420782049e-014,-1.26945708274126e-015,5.10571716337565e-014],[-5.65868012158136e-014,-1.26846440821074e-015,5.11041312072631e-014],[-5.70231378940459e-014,-1.2694074142324e-015,5.10620368766359e-014],[-5.73287023719022e-014,-1.27048938627416e-015,5.10440897668255e-014],[-5.7647634143123e-014,-1.27017787059155e-015,5.09971104610712e-014],[-5.79030065266325e-014,-1.26889566168609e-015,5.09423143858331e-014],[-5.81450129987223e-014,-1.26717005278226e-015,5.09000189946011e-014],[-5.84573154247134e-014,-1.26598223286927e-015,5.08122599369859e-014],[-5.86599540935373e-014,-1.26466135814673e-015,5.07471034324484e-014],[-5.87907979498435e-014,-1.26320093107592e-015,5.06355970807542e-014],[-5.9039411844437e-014,-1.26155306253933e-015,5.05373789431739e-014],[-5.9083476600768e-014,-1.25946116038947e-015,5.04601813026945e-014],[-5.937500178575e-014,-1.25756423211377e-015,5.03306930339392e-014],[-5.93264480804203e-014,-1.25634031543389e-015,5.02321129373669e-014],[-5.94346993411691e-014,-1.25527341849757e-015,5.00944712368254e-014],[-5.94590315190275e-014,-1.25396389260178e-015,4.99498547057515e-014],[-5.95417452243073e-014,-1.25201971622351e-015,4.98212343567422e-014],[-5.96656358915864e-014,-1.2500219663877e-015,4.96728541144258e-014],[-5.9717250953225e-014,-1.24813936250645e-015,4.95489915036649e-014],[-5.96687206971476e-014,-1.24662359870526e-015,4.93943328398581e-014],[-5.96202711934902e-014,-1.24530772037691e-015,4.92373284528026e-014],[-5.9542756083959e-014,-1.24391301167551e-015,4.90679286175691e-014],[-5.95011999992614e-014,-1.24242699144457e-015,4.8915853270737e-014],[-5.94893497557179e-014,-1.24095183969487e-015,4.87484570209154e-014],[-5.92984756364965e-014,-1.23964804997151e-015,4.8573966091976e-014],[-6.72549693182896e-014,-1.23844033111253e-015,4.84226305066855e-014],[-5.89938215526877e-014,-1.23717126534474e-015,4.82352951184774e-014],[-6.29071381764145e-014,-1.23575492771538e-015,4.8057726813845e-014],[-5.87321534596222e-014,-1.23424192555212e-015,4.78919327819676e-014],[-5.84558084742366e-014,-1.23282376781606e-015,4.77043297821067e-014],[-6.92582683138123e-014,-1.23160946223597e-015,4.75480144584285e-014],[-5.79623087319863e-014,-1.2304722471196e-015,4.73616017226685e-014],[-6.93693977970328e-014,-1.22932953131154e-015,4.71799257250403e-014],[-5.75733355370178e-014,-1.22806825403839e-015,4.70033273818313e-014],[-6.81580753547501e-014,-1.22680601599712e-015,4.6812384383484e-014]]]},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
<div id="stock-return" class="section level4">
<h4>Stock Return</h4>
<p>The negative news appear to have an effect on the stock price up to 40 days after the announcement. Of course, this study did not cover all new events surrounding Equifax during this time.</p>
<pre class="r"><code>df.return &lt;- cbind.xts(df$Return, df$Negative.D, df$Positive.D); names(df.return) &lt;- c(&quot;Return&quot;, &quot;N&quot;, &quot;P&quot;)
df.return &lt;- na.omit(df.return)

#VARselect(df.return, lag.max = 25)#16 Lags is the optimal model (Lowest AIC)
VAR.return &lt;- VAR(df.return, type = &quot;const&quot;, p = 16)#p = # of lags

IRF.return &lt;- irf(VAR.return, impulse = c(&quot;N&quot;, &quot;P&quot;), cumulative = FALSE, n.ahead = 50)

IRF.return.change &lt;- data.frame(IRF.return$irf$N[,1], IRF.return$Lower$N[,1], IRF.return$Upper$N[,1],
                               IRF.return$irf$P[,1], IRF.return$Lower$P[,1], IRF.return$Upper$P[,1])

names(IRF.return.change) &lt;- c(&quot;N.Return&quot;, &quot;N.L&quot;, &quot;N.H&quot;, &quot;P.Return&quot;, &quot;P.L&quot;, &quot;P.H&quot;)

IRF.return.change &lt;- ts(IRF.return.change, start = 0, end = (nrow(IRF.return.change)-1))

#For dygraph, I used a time-series (ts) object as xts requires specific dates. 
dygraph(IRF.return.change, main = &quot;Return after Shock&quot;, xlab = &quot;Days after Event&quot;, ylab = &quot;Return&quot;) %&gt;%
  dySeries(c(&quot;N.L&quot;, &quot;N.Return&quot;, &quot;N.H&quot;), label = &quot;Negative News&quot;, col = &quot;red&quot;) %&gt;%
  dySeries(c(&quot;P.L&quot;, &quot;P.Return&quot;, &quot;P.H&quot;), label = &quot;Positive News&quot;, col = &quot;green&quot;) %&gt;%
  dyRangeSelector() %&gt;%
  dyLegend(width = 400)</code></pre>
<div id="htmlwidget-69c31df4b3bf8f13fb0a" style="width:672px;height:480px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-69c31df4b3bf8f13fb0a">{"x":{"attrs":{"title":"Return after Shock","xlabel":"Days after Event","ylabel":"Return","labels":["year","Negative News","Positive News"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["red","green"],"customBars":true,"series":{"Negative News":{"axis":"y"},"Positive News":{"axis":"y"}},"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel","legend":"auto","labelsDivWidth":400,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true},"scale":"yearly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["0000-01-01T00:00:00.000Z","0001-01-01T00:00:00.000Z","0002-01-01T00:00:00.000Z","0003-01-01T00:00:00.000Z","0004-01-01T00:00:00.000Z","0005-01-01T00:00:00.000Z","0006-01-01T00:00:00.000Z","0007-01-01T00:00:00.000Z","0008-01-01T00:00:00.000Z","0009-01-01T00:00:00.000Z","0010-01-01T00:00:00.000Z","0011-01-01T00:00:00.000Z","0012-01-01T00:00:00.000Z","0013-01-01T00:00:00.000Z","0014-01-01T00:00:00.000Z","0015-01-01T00:00:00.000Z","0016-01-01T00:00:00.000Z","0017-01-01T00:00:00.000Z","0018-01-01T00:00:00.000Z","0019-01-01T00:00:00.000Z","0020-01-01T00:00:00.000Z","0021-01-01T00:00:00.000Z","0022-01-01T00:00:00.000Z","0023-01-01T00:00:00.000Z","0024-01-01T00:00:00.000Z","0025-01-01T00:00:00.000Z","0026-01-01T00:00:00.000Z","0027-01-01T00:00:00.000Z","0028-01-01T00:00:00.000Z","0029-01-01T00:00:00.000Z","0030-01-01T00:00:00.000Z","0031-01-01T00:00:00.000Z","0032-01-01T00:00:00.000Z","0033-01-01T00:00:00.000Z","0034-01-01T00:00:00.000Z","0035-01-01T00:00:00.000Z","0036-01-01T00:00:00.000Z","0037-01-01T00:00:00.000Z","0038-01-01T00:00:00.000Z","0039-01-01T00:00:00.000Z","0040-01-01T00:00:00.000Z","0041-01-01T00:00:00.000Z","0042-01-01T00:00:00.000Z","0043-01-01T00:00:00.000Z","0044-01-01T00:00:00.000Z","0045-01-01T00:00:00.000Z","0046-01-01T00:00:00.000Z","0047-01-01T00:00:00.000Z","0048-01-01T00:00:00.000Z","0049-01-01T00:00:00.000Z","0050-01-01T00:00:00.000Z"],[[0,0,0],[-0.00496571632666652,-0.00363343392829546,0.000267137921641498],[-0.000876378679461324,0.000671937917973292,0.00209110572872519],[-0.00924728169554336,-0.00730160195308091,-0.000532174981874529],[-0.00187583472782728,-0.000219224870965525,0.00103093820594928],[-0.00372016832327441,-0.00161082397207835,0.000500328883816523],[-0.00181218904412489,0.000213840853214166,0.00136268902818119],[-0.00140666255295989,0.00017697555568376,0.00140957023369023],[-0.00107612398402619,0.000501641245376637,0.00175132144966317],[-0.00158491733494633,5.42502314139622e-006,0.001083255616227],[4.15567362210822e-006,0.00326775170520217,0.00478982620579049],[-0.00209694540381138,0.00062711027170151,0.00220429691233226],[-0.00255196701650701,5.88874319417446e-006,0.00177770745561177],[-0.00138151779343327,-9.96516392803202e-006,0.00162620800115499],[-0.00269254459039809,-0.000175445893160472,0.00153536023384416],[-0.00165636187145117,-3.61000681253562e-006,0.00218021163545318],[-0.00035785020449695,0.00103209199707936,0.00222497216997248],[-0.000294778586606097,0.000970152193509507,0.00227307065405672],[-0.000359555364493697,0.00116460200081826,0.00305088873518288],[-0.000851533737947314,0.000428147619977565,0.00167791889308424],[-0.00191028083530322,-0.000620817673884028,0.00036011439073646],[-0.000656540983404188,0.000376880448104293,0.00153551444598637],[-0.000483710685090407,0.00070489580531053,0.00183491801922582],[-0.00204144351706469,-0.00119079500400954,0.000516730900643497],[-0.00205986523502677,-0.000778620568256274,0.000553824715329829],[-0.00086763167467599,-6.77979875098041e-005,0.00101366441474941],[-0.000974624210695758,-0.000287870425252783,0.00115992613515034],[-0.00113356723948433,-0.000130902763330266,0.000842472267093324],[-0.000508570813503978,0.000873304024906979,0.00186222985633364],[-0.000866016032295757,-7.08831019254601e-005,0.00102834982769431],[-0.000923456010443848,-0.000223247702557444,0.000722786828648458],[-0.00125352344575943,-0.000264606641012861,0.000466636622581656],[-0.00135805254379761,-0.000418318770593004,0.000471710279077657],[-0.000451424761993698,-9.8053833519723e-006,0.000698324016105843],[-0.000539401819323262,-3.18348046005823e-005,0.000479013571477399],[-0.000588274208276837,-3.19695078633414e-005,0.000318744025843535],[-0.000695715725179201,-0.000131522718246742,0.000408503237887251],[-0.000660756334424589,-0.000148150520661165,0.000433575419678842],[-0.000432544516610054,0.000188301360038067,0.00040371814891943],[-0.000295548201128349,0.000129880236222182,0.00045553410749855],[-0.000343717401498499,9.13999489238711e-006,0.00044788053893105],[-0.000479041489751323,-9.94112074330951e-006,0.000335985776905559],[-0.00057604033729993,-0.000129281826734977,0.000255133926888078],[-0.00039202197867231,-7.17607624164248e-005,0.000308563127445798],[-0.000289817273532649,4.42148548879647e-005,0.000456531961881186],[-0.000288634690164876,2.20668785119611e-005,0.000335297809947668],[-0.000378690433943805,5.38349426977721e-005,0.000465165489977948],[-0.00040081223691392,-2.95612544547847e-005,0.000210881162021433],[-0.000307569258080001,-8.00512126728795e-007,0.000306455165604684],[-0.000273992422725404,1.64804871754882e-005,0.0002599277785527],[-0.00030189200637547,1.49730338199783e-005,0.000275937585665496]],[[0,0,0],[-3.42915860269049e-017,-1.02016394790019e-017,2.07809896249639e-018],[-9.42703817598867e-018,6.28999065964027e-018,2.18488639409235e-017],[-1.1025833995513e-017,5.84988516424493e-019,1.47997536757283e-017],[-1.14573173767598e-017,3.69526574731841e-018,2.02088521269167e-017],[-1.72140921931811e-017,-2.00206135944998e-018,1.29950613207409e-017],[-1.19391137993287e-017,2.88860816140952e-018,1.47199213750854e-017],[-1.53902519526617e-017,-1.22889655087568e-018,1.24148640031001e-017],[-1.08272870302083e-017,1.23268538328093e-018,1.50891500351701e-017],[-1.17171316913816e-017,-1.51148387339582e-018,1.44178378389987e-017],[-1.47256895338841e-017,2.32489042512138e-018,1.51158772039214e-017],[-1.89059968124596e-017,-4.33202125817148e-018,1.27016767797403e-017],[-1.07349129249179e-017,1.77709804570297e-018,1.8880180016652e-017],[-1.2331466780931e-017,1.31969050078681e-019,1.70354936954472e-017],[-1.28833132663983e-017,-4.80618700020217e-019,1.11376115599605e-017],[-9.62334212410476e-018,2.70478081047736e-018,1.55439181738325e-017],[-1.51573200698599e-017,-2.66632498327159e-018,6.69431476006145e-018],[-8.79131692056828e-018,1.03642403154459e-018,1.17997593399975e-017],[-1.09767117946848e-017,-1.19109463702097e-018,5.35463191215985e-018],[-9.43463646750584e-018,-7.60432606232786e-019,9.90542909580314e-018],[-9.05231904512736e-018,4.94158412030098e-019,1.21398481158192e-017],[-1.08908600281481e-017,-5.88073238702424e-019,8.58693887110584e-018],[-1.06931777254691e-017,-2.54993174250759e-019,7.68963142797589e-018],[-4.40419221010451e-018,2.21310951831878e-019,1.27513071333285e-017],[-1.33040825692636e-017,9.53692230075642e-020,6.62682605315202e-018],[-7.65875463265445e-018,3.22416378729151e-019,1.12544603476115e-017],[-1.00392582223446e-017,3.67260380359332e-019,1.02245334424877e-017],[-1.34271054182282e-017,1.7180543680033e-019,8.09004498481585e-018],[-6.52032816353355e-018,-6.37643942365051e-019,1.0640911737914e-017],[-1.02559740401274e-017,1.27145404105498e-019,7.20661946706932e-018],[-6.2420285906643e-018,-2.36608068406537e-020,8.83414180036622e-018],[-5.88478297465784e-018,-3.73278977182536e-020,4.45651282021227e-018],[-3.92200607590581e-018,3.39541103215894e-019,4.21593301716376e-018],[-4.18448338478278e-018,9.40493240042203e-020,5.01757097529001e-018],[-4.74922139888724e-018,-1.07307210147923e-019,3.01693978473011e-018],[-3.78905388461098e-018,-8.91197167214295e-020,4.29850537732712e-018],[-3.28298235021215e-018,1.79023731354659e-019,4.61749005495514e-018],[-3.95638720497114e-018,2.10056245727395e-019,3.1570059651188e-018],[-2.85266030991235e-018,-1.27716673633894e-019,4.27624445464326e-018],[-4.6999232979553e-018,-1.46805064683654e-019,3.04966534871803e-018],[-2.68826674005052e-018,-1.60554486089199e-020,3.22752472836011e-018],[-3.17849194862641e-018,-1.22597277409623e-019,2.12098544531196e-018],[-1.92020362300566e-018,1.0563356150108e-019,4.38188224782227e-018],[-2.74650798898639e-018,5.65468626623984e-020,3.2068233999009e-018],[-2.34089229603304e-018,1.21338893616202e-019,2.83866658891701e-018],[-3.0708093357156e-018,-9.70716834514519e-020,2.27853042749947e-018],[-2.82672893405499e-018,-4.38171646126672e-020,2.47279861191975e-018],[-3.15144490143034e-018,3.7745389316482e-021,2.74877092043451e-018],[-2.40585744435064e-018,-1.60720323972208e-021,3.89215542558303e-018],[-4.28314337984157e-018,1.67194551970237e-020,2.50164925798872e-018],[-2.03060961119646e-018,7.21386699164715e-022,3.35328237733431e-018]]]},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
